    public async Task<bool> IsAgentAvailableAsync(string agentId, CancellationToken cancellationToken = default)
    {
        if (string.IsNullOrWhiteSpace(agentId))
        {
            throw new ArgumentException("Agent ID cannot be null or empty", nameof(agentId));
        }

        _logger.LogDebug("Checking availability for Claude Code agent: {AgentId}", agentId);

        try
        {
            // Проверяем доступность напрямую через executor
            var workingDirectory = _configuration.DefaultWorkingDirectory ?? Environment.CurrentDirectory;
            var versionCommand = "Provide your Claude Code CLI version information.";

            var result = await _agentExecutor.ExecuteCommandAsync(
                versionCommand,
                workingDirectory,
                cancellationToken);

            var isAvailable = result.Success;

            _logger.LogDebug("Claude Code agent {AgentId} availability check result: {IsAvailable}",
                agentId, isAvailable);

            return isAvailable;
        }
        catch (Exception ex)
        {
            _logger.LogWarning(ex, "Failed to check availability for Claude Code agent: {AgentId}", agentId);
            return false;
        }
    }
